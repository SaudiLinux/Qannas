# دليل استخدام أداة Qanas (قناص)

## مقدمة

أداة Qanas (قناص) هي منصة متكاملة لاختبار الاختراق وإدارة سطح الهجوم، تم تطويرها بواسطة Saudi Linux. تهدف الأداة إلى أتمتة عمليات جمع المعلومات واكتشاف الثغرات الأمنية في الأنظمة والتطبيقات المختلفة.

## أوضاع التشغيل

تدعم أداة Qanas أربعة أوضاع تشغيل رئيسية:

### 1. الوضع العادي (Normal Mode)

يستخدم لفحص هدف واحد بشكل مفصل. يقوم بإجراء فحص شامل للهدف المحدد (موقع ويب أو عنوان IP) ويجمع معلومات مفصلة عنه.

**الاستخدام:**
```
python qanas.py example.com
```

**العمليات التي يقوم بها:**
- فحص Nmap للمنافذ المفتوحة
- استعلام WHOIS لمعلومات النطاق
- استعلام DNS للحصول على سجلات النطاق
- فحص الويب (إذا كان الهدف موقع ويب)
- فحص الثغرات الأمنية المعروفة

### 2. وضع AIRSTRIKE

يستخدم لفحص عدة أهداف من ملف بشكل سريع. يقوم بإجراء فحص سريع لكل هدف في الملف المحدد.

**الاستخدام:**
```
python qanas.py path/to/targets.txt airstrike
```

**العمليات التي يقوم بها:**
- فحص Nmap سريع للمنافذ الشائعة
- استعلام WHOIS مختصر
- استعلام DNS أساسي
- فحص سريع للويب (للمواقع)

### 3. وضع NUKE

يستخدم لفحص شامل لعدة أهداف من ملف. يقوم بإجراء فحص شامل ومكثف لكل هدف في الملف المحدد.

**الاستخدام:**
```
python qanas.py path/to/targets.txt nuke
```

**العمليات التي يقوم بها:**
- فحص Nmap شامل لجميع المنافذ
- استعلام WHOIS مفصل
- استعلام DNS شامل
- فحص عميق للويب (للمواقع)
- فحص شامل للثغرات الأمنية
- محاولة اكتشاف التقنيات المستخدمة

### 4. وضع LOOT

يستخدم لعرض وتنظيم نتائج الفحص السابقة.

**الاستخدام:**
```
python qanas.py loot
```

**العمليات التي يقوم بها:**
- عرض قائمة بالأهداف التي تم فحصها
- إنشاء تقارير HTML للنتائج
- تنظيم وتصنيف النتائج حسب نوع الفحص

## خيارات إضافية

### عرض إصدار الأداة
```
python qanas.py --version
```

### عرض المساعدة
```
python qanas.py --help
```

## تنسيق ملف الأهداف

عند استخدام وضع AIRSTRIKE أو NUKE، يجب أن يكون ملف الأهداف بالتنسيق التالي:

```
example.com
192.168.1.1
subdomain.example.org
10.0.0.1
```

كل سطر يحتوي على هدف واحد (اسم نطاق أو عنوان IP).

## مخرجات الفحص

يتم حفظ جميع نتائج الفحص في مجلد `loot` داخل مجلد المشروع. لكل هدف، يتم إنشاء مجلد باسم الهدف والطابع الزمني للفحص (مثال: `example.com_20250625_185130`).

يحتوي كل مجلد على الملفات التالية (حسب نوع الفحص):

- **target_info.json**: معلومات أساسية عن الهدف ونوع الفحص
- **nmap_scan.xml**: نتائج فحص Nmap
- **whois_lookup.txt**: نتائج استعلام WHOIS
- **dns_enum.txt**: نتائج استعلام DNS
- **web_scan.json**: نتائج فحص الويب (إذا كان الهدف موقع ويب)
- **vulnerabilities.json**: قائمة بالثغرات الأمنية المكتشفة
- **index.html**: تقرير HTML يعرض جميع النتائج بشكل منظم

## نصائح للاستخدام الأمثل

1. **تثبيت الأدوات الخارجية**: تأكد من تثبيت جميع الأدوات الخارجية (nmap, whois, host) للحصول على وظائف كاملة.

2. **صلاحيات المسؤول**: قم بتشغيل الأداة بصلاحيات المسؤول للحصول على نتائج أفضل، خاصة عند إجراء فحص Nmap.

3. **تحديد نطاق الفحص**: استخدم الوضع المناسب حسب احتياجاتك:
   - الوضع العادي: لفحص هدف واحد بشكل مفصل
   - وضع AIRSTRIKE: لفحص سريع لعدة أهداف
   - وضع NUKE: لفحص شامل لعدة أهداف (يستغرق وقتًا أطول)

4. **تنظيم النتائج**: استخدم وضع LOOT بانتظام لتنظيم وتحليل نتائج الفحص.

5. **تحديث الأداة**: قم بتحديث الأداة بانتظام للحصول على أحدث الميزات وإصلاحات الأخطاء.

## استكشاف الأخطاء وإصلاحها

### مشكلة: الأداة لا تعمل بشكل صحيح على Windows

**الحل**: تأكد من تثبيت جميع الأدوات الخارجية وإضافتها إلى متغير PATH. يمكنك استخدام سكربت `install.bat` لتسهيل عملية التثبيت.

### مشكلة: رسائل خطأ "Command not found"

**الحل**: الأداة تم تحسينها للتعامل مع هذه الحالة. ستستمر في العمل مع وظائف محدودة وستقوم بتسجيل رسائل الخطأ في مجلد النتائج.

### مشكلة: عدم وجود مجلد loot

**الحل**: قم بإنشاء مجلد `loot` يدويًا في مجلد المشروع أو استخدم سكربت `install.bat`.

## الدعم والمساهمة

إذا واجهت أي مشاكل أو كان لديك اقتراحات لتحسين الأداة، يرجى فتح issue على GitHub أو التواصل مع المطور مباشرة عبر البريد الإلكتروني: SaudiLinux1@gmail.com

---

تم إعداد هذا الدليل بواسطة فريق Saudi Linux. جميع الحقوق محفوظة © 2025.