# دليل استكشاف الأخطاء وإصلاحها - أداة Qanas (قناص)

## مقدمة

يوفر هذا الدليل حلولاً للمشكلات الشائعة التي قد تواجهها أثناء تثبيت أو استخدام أداة Qanas. إذا واجهت مشكلة غير مذكورة هنا، يرجى التواصل مع فريق الدعم أو فتح issue على GitHub.

## مشاكل التثبيت

### مشكلة: فشل تثبيت متطلبات Python

**الأعراض**: رسالة خطأ عند تنفيذ `pip install -r requirements.txt`

**الحلول المحتملة**:

1. تأكد من تثبيت Python 3.8 أو أحدث:
   ```
   python --version
   ```

2. تحديث pip إلى أحدث إصدار:
   ```
   python -m pip install --upgrade pip
   ```

3. تثبيت المتطلبات بشكل فردي:
   ```
   pip install requests
   pip install beautifulsoup4
   pip install colorama
   # ... وهكذا لباقي المتطلبات
   ```

4. إذا كنت تستخدم Windows، قد تحتاج إلى تثبيت أدوات التطوير لبعض الحزم:
   ```
   pip install --upgrade setuptools wheel
   ```

### مشكلة: عدم وجود مجلدات ضرورية

**الأعراض**: رسائل خطأ تشير إلى عدم وجود مجلدات مثل `loot` أو `modules`

**الحلول المحتملة**:

1. قم بتشغيل سكربت التثبيت:
   - على Windows: `install.bat`
   - على Linux: `./install.sh`

2. إنشاء المجلدات يدويًا:
   ```
   mkdir loot modules templates plugins assets wordlists
   ```

## مشاكل تشغيل الأداة

### مشكلة: الأداة لا تعمل على Windows

**الأعراض**: رسائل خطأ عند تشغيل `python qanas.py`

**الحلول المحتملة**:

1. تأكد من تشغيل الأمر من مجلد المشروع الرئيسي.

2. تأكد من استخدام المسار الصحيح لملف Python:
   ```
   python qanas.py
   ```
   أو
   ```
   py qanas.py
   ```

3. تشغيل الأداة بصلاحيات المسؤول (خاصة لعمليات فحص الشبكة).

### مشكلة: رسائل خطأ "Command not found"

**الأعراض**: رسائل خطأ تشير إلى عدم وجود أوامر مثل `nmap`، `whois`، أو `host`

**الحلول المحتملة**:

1. تثبيت الأدوات المطلوبة:
   - على Windows باستخدام Chocolatey:
     ```
     choco install nmap whois bind-toolsonly
     ```
   - على Windows باستخدام Scoop:
     ```
     scoop install nmap whois bind
     ```
   - على Linux:
     ```
     sudo apt-get install nmap whois bind9-host
     ```

2. التأكد من إضافة الأدوات إلى متغير PATH:
   - على Windows، افتح PowerShell كمسؤول وقم بتنفيذ:
     ```
     [Environment]::SetEnvironmentVariable("Path", $env:Path + ";C:\Program Files (x86)\Nmap", [EnvironmentVariableTarget]::Machine)
     ```
   - قم بإعادة تشغيل موجه الأوامر أو PowerShell بعد تحديث متغير PATH.

3. استخدام المسار الكامل للأدوات في ملف `config.py`:
   - افتح ملف `config.py` وابحث عن متغيرات مثل `NMAP_PATH` أو `WHOIS_PATH`
   - قم بتعيين المسار الكامل للأدوات، مثل:
     ```python
     NMAP_PATH = "C:\Program Files (x86)\Nmap\nmap.exe"
     WHOIS_PATH = "C:\Program Files\Whois\whois.exe"
     HOST_PATH = "C:\Program Files\BIND\host.exe"
     ```

### مشكلة: فشل فحص Nmap

**الأعراض**: رسائل خطأ عند إجراء فحص Nmap أو عدم ظهور نتائج

**الحلول المحتملة**:

1. تأكد من تثبيت Nmap بشكل صحيح:
   ```
   nmap --version
   ```

2. تشغيل الأداة بصلاحيات المسؤول (مطلوب لبعض أنواع فحص Nmap).

3. تعديل خيارات فحص Nmap في ملف `config.py` لتكون أقل تعقيدًا:
   ```python
   "port_scan": {
       "quick": "-F -T4",  # خيارات أبسط
       "full": "-p 1-1000 -T4"  # فحص منافذ أقل
   }
   ```

4. التحقق من إعدادات جدار الحماية وتعطيله مؤقتًا للاختبار.

### مشكلة: فشل استعلام WHOIS

**الأعراض**: رسائل خطأ عند إجراء استعلام WHOIS أو عدم ظهور نتائج

**الحلول المحتملة**:

1. تأكد من تثبيت أداة WHOIS بشكل صحيح:
   ```
   whois --version
   ```
   أو
   ```
   whois -h
   ```

2. تجربة استعلام WHOIS يدويًا للتأكد من عمله:
   ```
   whois example.com
   ```

3. استخدام خدمة WHOIS بديلة عبر الإنترنت إذا استمرت المشكلة.

### مشكلة: فشل استعلام DNS

**الأعراض**: رسائل خطأ عند إجراء استعلام DNS أو عدم ظهور نتائج

**الحلول المحتملة**:

1. تأكد من تثبيت أداة `host` بشكل صحيح:
   ```
   host -v
   ```

2. تجربة استعلام DNS يدويًا للتأكد من عمله:
   ```
   host -a example.com
   ```

3. تغيير خادم DNS المستخدم في الاستعلام:
   ```
   host -a example.com 8.8.8.8
   ```

## مشاكل النتائج والتقارير

### مشكلة: عدم إنشاء تقارير HTML

**الأعراض**: عدم وجود ملف `index.html` في مجلد النتائج

**الحلول المحتملة**:

1. تأكد من وجود مجلد `templates` وملف `report.html` داخله.

2. تأكد من وجود مجلد `assets` وملفات CSS/JS اللازمة داخله.

3. تشغيل وضع LOOT لإعادة إنشاء التقارير:
   ```
   python qanas.py loot
   ```

### مشكلة: نتائج فحص غير مكتملة

**الأعراض**: بعض أجزاء التقرير فارغة أو تحتوي على معلومات قليلة

**الحلول المحتملة**:

1. تأكد من تثبيت جميع الأدوات الخارجية المطلوبة.

2. تشغيل الفحص بوضع أكثر شمولية:
   ```
   python qanas.py example.com nuke
   ```

3. التحقق من اتصال الإنترنت وإمكانية الوصول إلى الهدف.

4. التحقق من ملفات السجل في مجلد النتائج للحصول على معلومات حول الأخطاء.

## مشاكل الأداء

### مشكلة: بطء في عمليات الفحص

**الأعراض**: استغراق وقت طويل لإكمال عمليات الفحص

**الحلول المحتملة**:

1. تعديل خيارات الفحص في ملف `config.py` لتكون أقل كثافة:
   ```python
   "port_scan": {
       "quick": "-F -T4",  # فحص أسرع
       "full": "-p 1-1000 -T4"  # فحص منافذ أقل
   }
   ```

2. استخدام وضع AIRSTRIKE بدلاً من NUKE للفحص السريع:
   ```
   python qanas.py example.com airstrike
   ```

3. تقليل نطاق الفحص عن طريق استهداف خدمات أو منافذ محددة.

### مشكلة: استهلاك عالٍ للموارد

**الأعراض**: استهلاك عالٍ للذاكرة أو وحدة المعالجة المركزية

**الحلول المحتملة**:

1. تقليل عدد العمليات المتزامنة في ملف `config.py`:
   ```python
   "concurrent_processes": 2  # تقليل العدد
   ```

2. تقسيم الأهداف المتعددة إلى مجموعات أصغر وفحصها بشكل منفصل.

3. إغلاق التطبيقات الأخرى التي تستهلك موارد النظام أثناء تشغيل الفحص.

## مشاكل متنوعة

### مشكلة: أخطاء Python

**الأعراض**: رسائل خطأ Python مثل ImportError أو ModuleNotFoundError

**الحلول المحتملة**:

1. تأكد من تثبيت جميع المتطلبات:
   ```
   pip install -r requirements.txt
   ```

2. تحديث Python إلى أحدث إصدار متوافق.

3. إنشاء بيئة افتراضية جديدة وتثبيت المتطلبات فيها:
   ```
   python -m venv qanas_env
   source qanas_env/bin/activate  # على Linux/Mac
   qanas_env\Scripts\activate  # على Windows
   pip install -r requirements.txt
   ```

### مشكلة: مشاكل في الأذونات

**الأعراض**: رسائل خطأ تتعلق بالأذونات أو الوصول المرفوض

**الحلول المحتملة**:

1. تشغيل الأداة بصلاحيات المسؤول:
   - على Windows: انقر بزر الماوس الأيمن على موجه الأوامر أو PowerShell واختر "تشغيل كمسؤول"
   - على Linux: استخدم `sudo`

2. التحقق من أذونات المجلدات والملفات:
   - على Windows:
     ```
     icacls * /reset /T
     ```
   - على Linux:
     ```
     chmod -R 755 .
     ```

3. التأكد من أن المستخدم لديه حقوق الكتابة في مجلد المشروع.

## الاتصال بالدعم

إذا استمرت المشكلة بعد تجربة الحلول المذكورة أعلاه، يرجى التواصل مع فريق الدعم:

- **البريد الإلكتروني**: SaudiLinux1@gmail.com
- **GitHub**: فتح issue على صفحة المشروع

عند التواصل مع الدعم، يرجى تقديم المعلومات التالية:

1. وصف مفصل للمشكلة
2. خطوات إعادة إنتاج المشكلة
3. رسائل الخطأ الكاملة
4. معلومات النظام (نظام التشغيل، إصدار Python، إلخ)
5. سجلات الأداة (إن وجدت)

---

تم إعداد هذا الدليل بواسطة فريق Saudi Linux. جميع الحقوق محفوظة © 2025.